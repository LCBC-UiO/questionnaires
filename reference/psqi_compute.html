<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute all PSQI components and global score — psqi_compute_comp2 • questionnaires</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute all PSQI components and global score — psqi_compute_comp2"><meta property="og:description" content='Despite the prevalence of sleep complaints among psychiatric patients, few questionnaires have been specifically designed to measure sleep quality in clinical populations.
The Pittsburgh Sleep Quality Index (PSQI) is a self-rated questionnaire which assesses sleep quality and disturbances over a 1-month time interval.
Nineteen individual items generate seven “component” scores: subjective sleep quality, sleep latency, sleep duration, habitual sleep efficiency, sleep disturbances, use of sleeping medication, and daytime dysfunction.
The sum of scores for these seven components yields one global score.
##Scoring
componentnamedescription
1subjective sleep qualityAnswer to q 6
2sleep latencyScaled sum of number of minutes before sleep (q 2) and evaluation of sleep within 30min (q 5a), scaled to a 5 point scale
3sleep durationScaled score of number of hours before one falls asleep (q 4), scaled to a 5 point scale
4habitual sleep efficiencyhours of sleep (q 4) divided by bedtime (q 1) subtracted from rising time (q 3), and scaled to a 5 point scale
5sleep disturbancesSum of evaluation of sleep within 30min (q 5a) and all remaining questions on sleep problems (q 5b-j), scaled to a 5 point scale
6use of sleeping medicationAnswer to question on use of sleep medication (q 7)
7daytime dysfunctionSum of evaluation of staying awake (q 8) and evaluation of keeping enthusiastic (q 9), scaled to a 5-point scale
global scoresum of the above.If any of the above is not possible to calculate, the global sum is also not calculated




Data requirements


Column names


Questions with multiple subquestions should be named in a similar manner, suffixed by the alphabetical index (psqi_5a, psqi_5b etc.).
For questions 5j and 10j, the frequency of occurence should have the names psqi_5j and psqi_10e, and the freehand explanations should have any type of suffix after this to indicate a text answers (i.e. psqi_5j_Desc or psqi_5j_string, psqi_5j_freehand).
As an example, LCBC has the following set-up:
psqi_1
psqi_2
psqi_3
psqi_4
psqi_5a psqi_5b psqi_5c psqi_5d psqi_5e psqi_5f psqi_5g psqi_5h psqi_5i psqi_5j psqi_5j_Coded psqi_5j_Desc
psqi_6
psqi_7
psqi_8
psqi_9
psqi_10 psqi_10a psqi_10b psqi_10c psqi_10d psqi_10e psqi_10e_Desc psqi_10e_Coded
psqi_11a psqi_11b psqi_11c psqi_11d





4-option questions coding


All 4-option questions need to be coded 0-3, not 1-4.



Time formats


For question 1, 3 and 4 (bedtime, rising time, hours of sleep), data should be punched as "HH:MM".
Question 2 should be punched as minutes in numbers.






References


Buysse et al. (1989) The Pittsburgh sleep quality index: A new instrument for psychiatric practice and research, Psychiatry Research, 28:2, 193-213

'><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">questionnaires</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/aseba.html">Achenbach System of Empirically Based Assessment (ASEBA)</a>
    </li>
    <li>
      <a href="../articles/bdi.html">Beck Depression Inventory (BDI)</a>
    </li>
    <li>
      <a href="../articles/bfi-2.html">Big Five Inventory (BFI-2)</a>
    </li>
    <li>
      <a href="../articles/bisbas.html">Behavioural Avoidance &amp; Inhibition Scales (BIS/BAS)</a>
    </li>
    <li>
      <a href="../articles/brief.html">Behavior Rating Inventory of Executive Function (BRIEF)</a>
    </li>
    <li>
      <a href="../articles/edu.html">Education</a>
    </li>
    <li>
      <a href="../articles/ehi.html">Edinburgh Handedness Inventory</a>
    </li>
    <li>
      <a href="../articles/emq.html">The Everyday Memory Questionnaire (EMQ)</a>
    </li>
    <li>
      <a href="../articles/ffq.html">Food Frequency Quesionnaire (FFQ)</a>
    </li>
    <li>
      <a href="../articles/gaming.html">gaming</a>
    </li>
    <li>
      <a href="../articles/gds.html">Geriatric Depression Scale</a>
    </li>
    <li>
      <a href="../articles/hipic.html">Hierarchical Personality Inventory for Children (HiPIC)</a>
    </li>
    <li>
      <a href="../articles/ipaq.html">International Physical Activity Questionnaire (IPAQ)</a>
    </li>
    <li>
      <a href="../articles/mspss.html">The Multidimensional Scale of Perceived Social Support (MPSPSS)</a>
    </li>
    <li>
      <a href="../articles/neopir.html">NEO Personality Inventory-Revised (NEO PI-R)</a>
    </li>
    <li>
      <a href="../articles/psqi.html">Pittsburgh Sleep Quality Inventory</a>
    </li>
    <li>
      <a href="../articles/ricwt.html">Remembering–Imagination Cue-Word Task (RICWT)</a>
    </li>
    <li>
      <a href="../articles/sdq.html">Strengths and Difficulties Questionnaire (SQD)</a>
    </li>
    <li>
      <a href="../articles/slesq.html">Stressful Life Events Screening Questionnaire (SLESQ)</a>
    </li>
    <li>
      <a href="../articles/tci.html">Temperament and Character Inventory (TCI)</a>
    </li>
    <li>
      <a href="../articles/ucla-loneliness.html">UCLA Loneliness Scale</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/LCBC-UiO/questionnaires/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute all PSQI components and global score</h1>
    <small class="dont-index">Source: <a href="https://github.com/LCBC-UiO/questionnaires/blob/HEAD/R/psqi_functions.R" class="external-link"><code>R/psqi_functions.R</code></a></small>
    <div class="hidden name"><code>psqi_compute.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Despite the prevalence of sleep complaints among psychiatric patients, few questionnaires have been specifically designed to measure sleep quality in clinical populations.
The Pittsburgh Sleep Quality Index (PSQI) is a self-rated questionnaire which assesses sleep quality and disturbances over a 1-month time interval.
Nineteen individual items generate seven “component” scores: subjective sleep quality, sleep latency, sleep duration, habitual sleep efficiency, sleep disturbances, use of sleeping medication, and daytime dysfunction.
The sum of scores for these seven components yields one global score.
##Scoring</p><table class="table table"><tr><td>component</td><td>name</td><td>description</td></tr><tr><td>1</td><td>subjective sleep quality</td><td>Answer to q 6</td></tr><tr><td>2</td><td>sleep latency</td><td>Scaled sum of number of minutes before sleep (q 2) and evaluation of sleep within 30min (q 5a), scaled to a 5 point scale</td></tr><tr><td>3</td><td>sleep duration</td><td>Scaled score of number of hours before one falls asleep (q 4), scaled to a 5 point scale</td></tr><tr><td>4</td><td>habitual sleep efficiency</td><td>hours of sleep (q 4) divided by bedtime (q 1) subtracted from rising time (q 3), and scaled to a 5 point scale</td></tr><tr><td>5</td><td>sleep disturbances</td><td>Sum of evaluation of sleep within 30min (q 5a) and all remaining questions on sleep problems (q 5b-j), scaled to a 5 point scale</td></tr><tr><td>6</td><td>use of sleeping medication</td><td>Answer to question on use of sleep medication (q 7)</td></tr><tr><td>7</td><td>daytime dysfunction</td><td>Sum of evaluation of staying awake (q 8) and evaluation of keeping enthusiastic (q 9), scaled to a 5-point scale</td></tr><tr><td>global score</td><td>sum of the above.</td><td>If any of the above is not possible to calculate, the global sum is also not calculated</td></tr></table><div class="section">
<h3 id="data-requirements">Data requirements<a class="anchor" aria-label="anchor" href="#data-requirements"></a></h3>

<div class="section">
<h4 id="column-names">Column names<a class="anchor" aria-label="anchor" href="#column-names"></a></h4>


<p>Questions with multiple subquestions should be named in a similar manner, suffixed by the alphabetical index (<strong>psqi_5a</strong>, <strong>psqi_5b</strong> etc.).
For questions 5j and 10j, the frequency of occurence should have the names <strong>psqi_5j</strong> and <strong>psqi_10e</strong>, and the freehand explanations should have any type of <strong>suffix</strong> after this to indicate a text answers (i.e. <strong>psqi_5j_Desc</strong> or <strong>psqi_5j_string</strong>, <strong>psqi_5j_freehand</strong>).
As an example, LCBC has the following set-up:</p><ul><li><p><strong>psqi_1</strong></p></li>
<li><p><strong>psqi_2</strong></p></li>
<li><p><strong>psqi_3</strong></p></li>
<li><p><strong>psqi_4</strong></p></li>
<li><p><strong>psqi_5a</strong> <strong>psqi_5b</strong> <strong>psqi_5c</strong> <strong>psqi_5d</strong> <strong>psqi_5e</strong> <strong>psqi_5f</strong> <strong>psqi_5g</strong> <strong>psqi_5h</strong> <strong>psqi_5i</strong> <strong>psqi_5j</strong> <strong>psqi_5j_Coded</strong> <strong>psqi_5j_Desc</strong></p></li>
<li><p><strong>psqi_6</strong></p></li>
<li><p><strong>psqi_7</strong></p></li>
<li><p><strong>psqi_8</strong></p></li>
<li><p><strong>psqi_9</strong></p></li>
<li><p><strong>psqi_10</strong> <strong>psqi_10a</strong> <strong>psqi_10b</strong> <strong>psqi_10c</strong> <strong>psqi_10d</strong> <strong>psqi_10e</strong> <strong>psqi_10e_Desc</strong> <strong>psqi_10e_Coded</strong></p></li>
<li><p><strong>psqi_11a</strong> <strong>psqi_11b</strong> <strong>psqi_11c</strong> <strong>psqi_11d</strong></p></li>
</ul></div>

<div class="section">
<h4 id="-option-questions-coding">4-option questions coding<a class="anchor" aria-label="anchor" href="#-option-questions-coding"></a></h4>


<p>All 4-option questions need to be coded <strong>0-3</strong>, not <strong>1-4</strong>.</p>
</div>

<div class="section">
<h4 id="time-formats">Time formats<a class="anchor" aria-label="anchor" href="#time-formats"></a></h4>


<p>For question 1, 3 and 4 (bedtime, rising time, hours of sleep), data should be punched as "<strong>HH:MM</strong>".
Question 2 should be punched as minutes in numbers.</p>
</div>


</div>

<div class="section">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h3>


<p>Buysse et al. (1989) <a href="https://www.sciencedirect.com/science/article/pii/0165178189900474" class="external-link">The Pittsburgh sleep quality index: A new instrument for psychiatric practice and research</a>, <em>Psychiatry Research</em>, 28:2, 193-213</p>
</div>

    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">psqi_compute_comp2</span><span class="op">(</span><span class="va">min_before_sleep</span>, <span class="va">no_sleep_30min</span><span class="op">)</span>

<span class="fu">psqi_compute_comp3</span><span class="op">(</span><span class="va">hours_sleep</span><span class="op">)</span>

<span class="fu">psqi_compute_comp4</span><span class="op">(</span><span class="va">hours_sleep</span>, <span class="va">bedtime</span>, <span class="va">risingtime</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">psqi_compute_comp5</span><span class="op">(</span><span class="va">data</span>, sleep_troubles <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"^psqi_05[b-j]$"</span><span class="op">)</span><span class="op">)</span>

<span class="fu">psqi_compute_comp7</span><span class="op">(</span><span class="va">keep_awake</span>, <span class="va">keep_enthused</span><span class="op">)</span>

<span class="fu">psqi_compute_global</span><span class="op">(</span><span class="va">data</span>, cols <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"comp[1-7]+_"</span><span class="op">)</span>, max_missing <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>

<span class="fu">psqi_compute</span><span class="op">(</span>
  <span class="va">data</span>,
  components <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">7</span>,
  bedtime <span class="op">=</span> <span class="va">psqi_01</span>,
  min_before_sleep <span class="op">=</span> <span class="va">psqi_02</span>,
  risingtime <span class="op">=</span> <span class="va">psqi_03</span>,
  hours_sleep <span class="op">=</span> <span class="va">psqi_04</span>,
  no_sleep_30min <span class="op">=</span> <span class="va">psqi_05a</span>,
  sleepquality <span class="op">=</span> <span class="va">psqi_06</span>,
  medication <span class="op">=</span> <span class="va">psqi_07</span>,
  keep_awake <span class="op">=</span> <span class="va">psqi_08</span>,
  keep_enthused <span class="op">=</span> <span class="va">psqi_09</span>,
  sleep_troubles <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches</a></span><span class="op">(</span><span class="st">"^psqi_05[b-j]$"</span><span class="op">)</span>,
  max_missing <span class="op">=</span> <span class="fl">0</span>,
  <span class="va">...</span>,
  prefix <span class="op">=</span> <span class="st">"psqi_"</span>,
  keep_all <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>min_before_sleep</dt>
<dd><p>column name with no. minutes before sleep (numeric) (psqi_02)</p></dd>
<dt>no_sleep_30min</dt>
<dd><p>column name with evaluation of sleep within 30min (0-3) (psqi_05a)</p></dd>
<dt>hours_sleep</dt>
<dd><p>column name with hours of sleep (decimal hours) (psqi_04)</p></dd>
<dt>bedtime</dt>
<dd><p>column name with bedtime (HH:MM:SS) (psqi_01)</p></dd>
<dt>risingtime</dt>
<dd><p>column name with rising time (HH:MM:SS) (psqi_03)</p></dd>
<dt>...</dt>
<dd><p>other arguments to <code><a href="psqi_compute_time_in_bed.html">psqi_compute_time_in_bed</a></code></p></dd>
<dt>data</dt>
<dd><p>data frame</p></dd>
<dt>sleep_troubles</dt>
<dd><p>columns containing sleep problem evaluations (0-3) (psqi_05(b-j) )</p></dd>
<dt>keep_awake</dt>
<dd><p>column name with evaluation of staying awake (0-3) (psqi_08)</p></dd>
<dt>keep_enthused</dt>
<dd><p>column name with evaluation of keeping enthusiastic (0-3) (psqi_09)</p></dd>
<dt>cols</dt>
<dd><p>columns containing the components</p></dd>
<dt>max_missing</dt>
<dd><p>Integer specifying the number of missing values to accept in the PSQI components,
before the global PSQI value is set to missing. Defaults to 0. If <code>max_missing &gt; 0</code>, the
global PSQI value is computed by weighting each non-missing entry with <code>7 / (7 - max_missing)</code>.</p></dd>
<dt>components</dt>
<dd><p>integer vector of components to calculate. If all 7, global is added also</p></dd>
<dt>sleepquality</dt>
<dd><p>column name with evaluation of sleep quality (0-3) (psqi_06)</p></dd>
<dt>medication</dt>
<dd><p>column name with use of sleep mediation (0-3) (psqi_07)</p></dd>
<dt>prefix</dt>
<dd><p>string to prefix column names of computed values</p></dd>
<dt>keep_all</dt>
<dd><p>logical, append to data.frame</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a data.frame containing only the calculated components</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>psqi_compute_comp2</code>: calculate the component 2 (sleep latency)</p></li>
<li><p><code>psqi_compute_comp3</code>: calculate the component 3 (sleep duratione)</p></li>
<li><p><code>psqi_compute_comp4</code>: calculate the component 4 (habitual sleep efficiency)</p></li>
<li><p><code>psqi_compute_comp5</code>: calculate the component 5 (sleep disturbance)</p></li>
<li><p><code>psqi_compute_comp7</code>: calculate the component 7 (daytime dysfunction)</p></li>
<li><p><code>psqi_compute_global</code>: calculate the global scores, sum of all components</p></li>
</ul></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Athanasia Mo Mowinckel.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

